@model Tuple<List<Collection>, List<Item>>

@{
    var count = 5;
    var collections = @Model.Item1;
    var items = @Model.Item2;
    <div class="text-center">
    @if(collections.Count >= count && items.Count >= count){
        <h3>Biggest collections</h3>
            <div class="row row-cols-sm-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-3 container d-flex justify-content-center">
                @foreach(var collection in collections.Take(count))
                {
                    <div class="card mb-4 container">

                        <img class="card-img-top img-fluid" src="@Url.Action("MegaImageRead", "Collection" , new {collectionId = collection.Id})"/>


                        <div class="card-body text-center">
                            <h5 class="card-title">@collection.Name</h5>
                            <h5 class="card-subtitle">Theme: @collection.Theme</h5>
                            <p class="card-text">@Html.Raw(collection.Description)</p>
                    
                            <div class="row">
                                <a asp-action="CollectionItems" asp-controller="Item" asp-route-collectionId="@collection.Id" class="btn btn-primary col m-2">See collection items</a>
                            </div>
                        </div>

                    </div>
                }
            </div>

                <h3>Lastest items</h3>
        <div>
               <div class="row row-cols-3 justify-content-center">
            @foreach(var item in items.Take(count))
            {
                var properties = item.Properties;

                <div class="card m-3 col text-center bg-light border-secondary">
                    <div>
                        <div class="card-title"><h3>@item.Name</h3></div>
                        <div class="card-text">
                            <div class="text-wrap">

                                @foreach(var tag in item.Tags)
                                {
                                    <span>@tag.Name </span>
                                }

                            </div>
                        </div>
                    </div>

                    <div>
                        <i class="bi bi-suit-heart m-2">@item.Likes.Count</i>
                        <i class="bi bi-chat-left-dots m-2">@item.Comments.Count</i>
                    </div>
                    <div class="card-footer row">
                        <form asp-action="ShowItem" asp-controller="Item" asp-route-itemId="@item.Id">
                            <div class="col"><button type="submit" class="btn btn-outline-primary">See more</button></div>
                        </form>
                    </div>
               </div>
            }
                </div>
        </div>
    }
    </div>
}